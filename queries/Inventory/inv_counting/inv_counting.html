<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory by Group</title>
    <!-- Global stylesheet -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <!-- Local stylesheet for this specific query page -->
    <link rel="stylesheet" href="{{ url_for('inv_counting.static', filename='css/inv_counting.css') }}">
</head>
<body>
    <div class="container control-box">
        <form id="queryForm">
            <label for="groupNumber">Group Number:</label>
            <input type="text" id="groupNumber" name="groupNumber" placeholder="e.g., 38" list="group-list">
            <button type="submit">Run Query</button> 
            <!-- Changed to type="button" to prevent form submission -->
            <button type="button" id="downloadButton" style="display: none;">Download Items (XLSX)</button>               
        </form>
        <datalist id="group-list"></datalist>
    </div>
    <div class="container">
        <div id="error"></div>
        <div id="loading"></div>
        <div id="results">
            <table>
                <colgroup>
                    <col style="width: 15%;">
                    <col style="width: 8%;">
                    <col style="width: 8%;">
                    <col style="width: 8%;">
                    <col style="width: 5%;">
                    <col style="width: 8%;">
                    <col style="width: 8%;">
                    <col style="width: 8%;">
                    <col style="width: 32%;">
                </colgroup>
                <thead>
                    <tr>
                        <th id="table-header-info" colspan="9"></th>
                    </tr>
                    <tr>
                        <th>Item</th>
                        <th>Loc. 1</th>
                        <th>Loc. 2</th>
                        <th>Total</th>
                        <th>UM</th>
                        <th>QOH</th>
                        <th>Committed</th>
                        <th>On Order</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr id="template-section-header" style="display: none;">
                        <td class="section-header" colspan="9"></td>
                    </tr>
                    <tr id="template-row"style="display: none;">
                        <td data-col="Item"></td>
                        <td data-col="loc1"></td>
                        <td data-col="loc2"></td>
                        <td data-col="total"></td>
                        <td data-col="BaseUnitofMeasure"></td>
                        <td data-col="OnHand"></td>
                        <td data-col="Committed"></td>
                        <td data-col="OnOrder"></td>
                        <td data-col="Description"></td>
                    </tr>
                </tbody>
            </table>

        </div>
    </div>
    <!-- Link to the external JavaScript file for this page -->
    <script src="{{ url_for('inv_counting.static', filename='js/inv_counting.js') }}" defer></script>
</body>
</html>